<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/fragments/head::head"></head>
<body class="hold-transition skin-blue sidebar-mini">
<style>
    text-success {
        color: #28a745 !important; /* M√†u xanh l√° */
    }
    .font-weight-bold {
        font-weight: bold !important;
    }
    .btn-ranking {
        background-color: #28a745;
        color: #fff;
    }

    .btn-ranking:hover {
        background-color: #218838;
    }

</style>
<div class="wrapper">
    <header th:replace="admin/fragments/header::header"></header>
    <aside th:replace="admin/fragments/sidebar::sidebar"></aside>

    <div class="content-wrapper">
        <!-- Header -->
        <section class="content-header">
            <h1>Qu·∫£n l√Ω Playoff</h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
                <li><a href="#">Qu·∫£n l√Ω</a></li>
                <li class="active">Playoff</li>
            </ol>
        </section>

        <!-- Main Content -->
        <section class="content">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Danh s√°ch c√°c tr·∫≠n ƒë·∫•u Playoff</h3>
                    <a th:href="@{/admin/{idSport}/playoff/create-first-round(idSport=${sport.id})}"
                       class="btn btn-success pull-right">T·∫°o V√≤ng ƒê·∫•u ƒê·∫ßu Ti√™n</a>
                    <form th:action="@{/admin/{idSport}/playoff/new-round(idSport=${sport.id})}" method="post" style="display: inline;">
                        <button type="submit" class="btn btn-success pull-right">T·∫°o V√≤ng ƒê·∫•u M·ªõi</button>
                    </form>
                    <a th:href="@{/admin/{idSport}/ranking-vbpo(idSport=${sport.id})}" class="btn-ranking">
                        <i class="fas fa-list-ol"></i> Xem B·∫£ng X·∫øp H·∫°ng T·ªïng <span>üèÜ</span>
                    </a>
                </div>

                <div class="box-body">
                    <table class="table table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>V√≤ng</th>
                            <th>ƒê·ªôi 1</th>
                            <th>ƒêi·ªÉm ƒê·ªôi 1</th>
                            <th>BP1</th>
                            <th>ƒê·ªôi 2</th>
                            <th>ƒêi·ªÉm ƒê·ªôi 2</th>
                            <th>BP 2</th>
                            <th>Th·ªùi Gian</th>
                            <th>ƒê·ªãa ƒêi·ªÉm</th>
                            <th>H√†nh ƒê·ªông</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="match, iterStat : ${matches}">
                            <td th:text="${iterStat.count}">1</td>
                            <td th:text="${match.round.getRoundName()}">V√≤ng</td>
                            <td th:classappend="${match.winner == 1 ? 'text-success font-weight-bold' : ''}"
                                th:text="${match.team1?.teamName ?: 'Ch∆∞a c√≥ ƒë·ªôi'}">Team 1</td>
                            <td th:text="${match.point1 == null || match.point1 == -1 ? '-' : match.point1}">0</td>
                            <td th:text="${match.point1 == match.point2 ? match.bonuspoint1 : '-'}">0</td>
                            <td th:classappend="${match.winner == 2 ? 'text-success font-weight-bold' : ''}"
                                th:text="${match.team2?.teamName ?: 'Ch∆∞a c√≥ ƒë·ªôi'}">Team 2</td>
                            <td th:text="${match.point2 == null || match.point2 == -1 ? '-' : match.point1}">0</td>
                            <td th:text="${match.point1 == match.point2 ? match.bonuspoint2 : '-'}">0</td>
                            <td th:text="${#temporals.format(match.time, 'dd/MM/yyyy')?: 'Ch∆∞a c·∫≠p nh·∫≠t'} + ' - ' + ${#temporals.format(match.timeStart, 'HH:mm')?: 'Ch∆∞a c·∫≠p nh·∫≠t'}"></td>
                            <td th:text="${#strings.defaultString(match.arena?.nameArena, 'Ch∆∞a c·∫≠p nh·∫≠t')}">ƒê·ªãa ƒëi·ªÉm</td>
                            <td>
                                <a th:href="@{/admin/{idSport}/updateMatchTT/{team1Id}/{team2Id}/{roundId}(idSport=${sport.id}, team1Id=${match.team1?.id}, team2Id=${match.team2?.id}, roundId=${match.round.id})}" class="btn btn-warning btn-sm">C·∫≠p Nh·∫≠t</a>
                            </td>
                        </tr>
                        <tr th:if="${#lists.isEmpty(matches)}">
                            <td colspan="10" class="text-center">Ch∆∞a c√≥ tr·∫≠n ƒë·∫•u n√†o trong v√≤ng Playoff</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="box-footer">
                    <a th:href="@{/admin/team-list/{idSport}(idSport=${sport.id})}" class="btn btn-primary">Quay l·∫°i</a>
                </div>
            </div>
        </section>
    </div>

    <footer th:replace="admin/fragments/footer::footer"></footer>
</div>
<div th:replace="admin/fragments/script::script"></div>
</body>
</html>
